# calc c_make/cmakelists.txt
cmake_minimum_required(VERSION 3.12 FATAL_ERROR)
project(calc)

# this project contains a library
add_library(maths adder.cpp)

# can also force cmake to always build a static/shared library:
#add_library(maths STATIC adder.cpp)
#add_library(maths SHARED adder.cpp)

if(NOT BUILD_SHARED_LIBS)
# if static libraries are compiled we need to somehow communicate
# that to the source code. the definition will be used to determine
# how MATHSLIB_API is defined in adder.h
add_definitions(-Dmaths_STATIC)
endif()

# it also contains an executeable
add_executable(calc calc.cpp)

# the executable uses the library
target_link_libraries(calc maths)

# /calc_cmake/cmakelists.txt